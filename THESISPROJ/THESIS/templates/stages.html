<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stages</title>
  
  <!-- Link to External CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/stages.css') }}" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Tailwind CSS (Optional) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div class="container py-4">
    <h1 class="text-center text-2xl font-bold mb-5" id="map-title">Stages</h1>

    <!-- Stage Cards Container -->
    <div class="row g-4" id="stages-content">
      <!-- Stage cards will be dynamically inserted here -->
    </div>

<!-- Back Button -->
<div class="text-center mt-4">
  <a href="{{ url_for('roadmap') }}" class="btn btn-danger">
    Back to Roadmap
  </a>
</div>


  <script>
    const selectedMap = "{{ selected_map or '' }}";
    const mapTitle = document.getElementById('map-title');
    const stagesContent = document.getElementById('stages-content');
  
    if (selectedMap) {
      mapTitle.textContent = `${selectedMap.charAt(0).toUpperCase() + selectedMap.slice(1)} Stages`;
  
      // Generate 3 stages (modify the number of stages if needed)
      let html = '';
      for (let i = 1; i <= 3; i++) {
        let description = `Description for ${selectedMap} stage ${i}`;
        let stageLink = `/game?map=${selectedMap}&stage=${i}`;
        
        html += `
          <div class="col-12 col-md-6 col-lg-3">
            <div class="custom-card">
              <div style="border: 1px solid rgb(0, 17, 255); padding: 10px;">
                <img src="https://via.placeholder.com/150x150" alt="Stage ${i} Image" />
              </div>
              <p class="text-sm mb-2">${description}</p>
              <h2 class="text-lg font-bold mb-2">${selectedMap.charAt(0).toUpperCase() + selectedMap.slice(1)} Stage ${i}</h2>
              <div class="progress-bar-wrapper mb-2">
                <div class="progress-bar-fill" style="width: ${30 + i * 10}%"></div>
              </div>
              <p class="text-sm mb-3">${i + 1} of 5 Completed</p>
              <a href="${stageLink}" class="btn btn-danger w-100">Start</a>
            </div>
          </div>
        `;
      }
  
      stagesContent.innerHTML = html;
    } else {
      stagesContent.innerHTML = `<p>No map selected.</p>`;
    }
  </script>
  
  
  

  <!-- Bootstrap JS (Optional) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
